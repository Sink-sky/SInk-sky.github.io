<!DOCTYPE html>
<html>
<head>
	<head><meta name="generator" content="Hexo 3.8.0">
	<meta charset="utf-8">
	<title>Sinksky</title>
	<link rel="shortcut icon" href="/img/favicon.ico">
	<link rel="stylesheet" href="/css/style.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.7.0/animate.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.15.6/styles/kimbie.light.css">
	<script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery-pjax@2.0.1/jquery.pjax.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.bundle.min.js"></script>
<script src="/js/pjaxinit.js"></script>
<script src="https://cdn.jsdelivr.net/npm/hotkeys-js@3.4.1/dist/hotkeys.min.js"></script>
<script src="https://cdn.bootcss.com/highlight.js/9.15.6/highlight.min.js"></script>
</head>
</head>
<body>
	<nav class="navbar navbar-expand-sm navbar-dark">
	<ul id="mainnavbar" class="navbar-nav">
		<a href="/" class="navbar-brand">Sinksky</a>
		
			<li class="nav-item">
				<a class="nav-link pl-3 pr-3" href="/categories">分类</a>
			</li>
		
			<li class="nav-item">
				<a class="nav-link pl-3 pr-3" href="/tags">标签</a>
			</li>
		
			<li class="nav-item">
				<a class="nav-link pl-3 pr-3" href="/archives">归档</a>
			</li>
		
			<li class="nav-item">
				<a class="nav-link pl-3 pr-3" href="/about">关于</a>
			</li>
		
	</ul>
</nav>
	<main class="pjax-data">
		<div class="animated fadeInDown">
			<div class="container animated fadeIn">
	<div class="row">
		<div class="col-md-10 offset-1 showblock">
			<div class="post-header">
	<h1 style="text-align: center;">CodingStyle</h1>
<!-- 		 -->
		
			
				<div style="font-weight: bold;">分类:</div>
				
				
						
						<a href="/categories/Coding" class="badge badge-light" style="font-weight: 400;font-size: 90%;">Coding</a>>
				
				<span class="badge badge-light" style="font-weight: 400;font-size: 90%;">CodingStyle</span>
			
			
				<div style="font-weight: bold;">标签:</div>
				 
					<a href="/tags/Coding" class="badge badge-pill badge-light" style="font-weight: 400;font-size: 90%;">Coding</a>
				 
					<a href="/tags/C" class="badge badge-pill badge-light" style="font-weight: 400;font-size: 90%;">C</a>
				 
					<a href="/tags/Linux" class="badge badge-pill badge-light" style="font-weight: 400;font-size: 90%;">Linux</a>
				
			
		

	
		<div style="font-weight: bold;">摘要:</div>
		<div>Linux C推荐的编程风格</div>
	
</div>
<hr style="border-color: #b3d7ff;">
<div class="post-content">
	<h2 id="空白缩进"><a href="#空白缩进" class="headerlink" title="空白缩进"></a>空白缩进</h2><h3 id="空白字符"><a href="#空白字符" class="headerlink" title="空白字符"></a>空白字符</h3><ul>
<li>关键字<code>if</code>、<code>while</code>、<code>for</code>与其后的控制表达式的(括号之间插入一个空格分隔，但括号内的表达式应紧贴括号.</li>
</ul>
<pre><code class="c++">while (1)
</code></pre>
<ul>
<li>双目运算符的两侧各插入一个空格分隔，单目运算符和操作数之间不加空格.</li>
<li>,号和;号之后要加空格，这是英文的书写习惯.</li>
<li>以上关于双目运算符和后缀运算符的规则并没有严格要求，有时候为了突出优先级也可以写得更紧凑一些.</li>
<li>UNIX系统标准的字符终端是24行80列的，接近或大于80个字符的较长语句要折行写.</li>
<li>有的人喜欢在变量定义语句中用Tab字符，使变量名对齐，这样看起来很美观.</li>
</ul>
<pre><code class="c++">int        a,b;
double    c;
</code></pre>
<h3 id="代码缩进"><a href="#代码缩进" class="headerlink" title="代码缩进"></a>代码缩进</h3><ul>
<li><code>if/else</code>、<code>while</code>、<code>do/while</code>、<code>for</code>、<code>switch</code>这些可以带语句块的语句，语句块的{或}应该和关键字写在同一行，用空格隔开，而不是单独占一行.</li>
</ul>
<pre><code class="c++">if (...) {
       //语句列表
} else if (...) {
       //语句列表
}
</code></pre>
<ul>
<li>函数定义的{和}单独占一行，这一点和语句块的规定不同.</li>
<li><code>switch</code>和语句块里的<code>case</code>、<code>default</code>对齐写，也就是说语句块里的<code>case</code>、<code>default</code>标号相对于<code>switch</code>不往里缩进，但标号下的语句要往里缩进.</li>
<li>代码中每个逻辑段落之间应该用一个空行分隔开。例如每个函数定义之间应该插入一个空行，头文件、全局变量定义和函数定义之间也应该插入空行.</li>
<li>一个函数的语句列表如果很长，也可以根据相关性分成若干组，用空行分隔。这条规定不是严格要求，通常把变量定义组成一组，后面加空行，<code>return</code>语句之前加空行.</li>
</ul>
<h2 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h2><ul>
<li>整个<strong>源文件</strong>的顶部注释。说明此模块的相关信息，例如文件名、作者和版本历史等，顶头写不缩进.</li>
<li><strong>函数</strong>注释。说明此函数的功能、参数、返回值、错误码等，写在函数定义上侧，和此函数定义之间不留空行，顶头写不缩进.</li>
<li>相对独立的<strong>语句组</strong>注释。对这一组语句做特别说明，写在语句组上侧，和此语句组之间不留空行，与当前语句组的缩进一致.</li>
<li>代码行右侧的简短注释。对<strong>当前代码行</strong>做特别说明，一般为单行注释，和代码之间至少用一个空格隔开，一个源文件中所有的右侧注释最好能上下对齐.</li>
<li><strong>函数内的注释要尽可能少用</strong>。写注释主要是为了说明你的代码“能做什么”（比如函数接口定义），而不是为了说明“怎样做”，只要代码写得足够清晰，“怎样做”是一目了然的，如果你需要用注释才能解释清楚，那就表示你的代码可读性很差，除非是特别需要提醒注意的地方才使用函数内注释.</li>
<li>复杂的结构体定义比函数更需要注释.</li>
<li>复杂的宏定义和变量声明也需要注释.</li>
</ul>
<h2 id="标识符命名"><a href="#标识符命名" class="headerlink" title="标识符命名"></a>标识符命名</h2><ul>
<li>标识符命名要清晰明了，可以使用完整的单词和易于理解的缩写。短的单词可以通过去元音形成缩写，较长的单词可以取单词的头几个字母形成缩写.</li>
<li>内核编码风格规定变量、函数和类型采用全小写加下划线的方式命名，常量（比如宏定义和枚举常量）采用全大写加下划线的方式命名.</li>
<li>全局变量和全局函数的命名一定要详细，不惜多用几个单词多写几个下划线，因为它们在整个项目的许多源文件中都会用到，必须让使用者明确这个变量或函数是干什么用的.</li>
<li>局部变量和只在一个源文件中调用的内部函数的命名可以简略一些，但不能太短.尽量不要使用单个字母做变量名，只有一个例外：用<code>i</code>、<code>j</code>、<code>k</code>做循环变量是可以的.</li>
<li>大小写混合的命名方式是Modern C++风格所提倡的，在C++代码中很普遍，称为<code>CamelCase</code>.</li>
</ul>
<h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><ul>
<li>实现一个函数只是为了做好一件事情，不要把函数设计成用途广泛、面面俱到的，这样的函数肯定会超长，而且往往不可重用，维护困难.</li>
<li>函数内部的缩进层次不宜过多，一般以少于4层为宜。如果缩进层次太多就说明设计得太复杂了，应考虑分割成更小的函数（Helper Function）来调用.</li>
<li>函数不要写得太长，建议在24行的标准终端上不超过两屏，太长会造成阅读困难，如果一个函数超过两屏就应该考虑分割函数了.</li>
<li>执行函数就是执行一个动作，函数名通常应包含动词.</li>
<li>比较重要的函数定义上侧必须加注释，说明此函数的功能、参数、返回值、错误码等.</li>
<li>另一种度量函数复杂度的办法是看有多少个局部变量，5到10个局部变量已经很多了，再多就很难维护了，应该考虑分割成多个函数.</li>
</ul>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><p><a href="http://akaedu.github.io/book/ch09.html" target="_blank" rel="noopener">Linux C编程-编码风格</a></p>
</div>
<hr style="border-color: #b3d7ff">
<div class="post-data" style="text-align: right;"> 
	最后更新于 2019-05-10
</div>

		</div>
	</div>
</div>
		</div>
		
			<div class="modal fade bd-example-modal-sm" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
				<div class="modal-dialog modal-sm" role="document">
					<div class="modal-content" style="border-radius: 15px">
						<div class="modal-body">
								<ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#空白缩进"><span class="toc-text">空白缩进</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#空白字符"><span class="toc-text">空白字符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#代码缩进"><span class="toc-text">代码缩进</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#注释"><span class="toc-text">注释</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#标识符命名"><span class="toc-text">标识符命名</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#函数"><span class="toc-text">函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#参考资料"><span class="toc-text">参考资料</span></a></li></ol>
						</div>
					</div>
				</div>
			</div>
			<script type="text/javascript">
				hotkeys("q", function(event,handler){
					if($(".modal-backdrop").length > 0){
						$("#exampleModal").modal('hide');
					}else{
						$("#exampleModal").modal();
					}
				})
			</script>
		
	</main>
<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/assets/33.model.json"},"display":{"position":"right","width":200,"height":500},"mobile":{"show":true},"log":false});</script></body>
</html>
<script>

	$(document).ready(function() {
		if($("#words").length > 0){
			$.getScript("//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js");
		}
		hljs.initHighlightingOnLoad();	
	})
	$(".pjax-data").on('pjax:end', function() {
		if($("#words").length > 0){
			$.getScript("//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js");
		}
	})
	$(document).on('pjax:complete', function() {
		document.querySelectorAll('pre code').forEach((block) => {
		hljs.highlightBlock(block);
		});
	});
	hotkeys("w", function(event,handler){
		if($("#live2d-widget").css('display') != 'none'){
			$("#live2d-widget").css('display','none');
		}else{
			$("#live2d-widget").css('display','block');
		}
	})
	
	
	
		
		
		
	
		
		
		
	
		
		
		
	
		
		
		
	
	
	hotkeys("1,2,3,4,5", function(event,handler){
		if($('.tooltip').length > 0){
			$('.tooltip').remove();
		}
		switch(handler.key){
			case "1":$("#mainnavbar a:eq(0)").click();break;
			
					case "2":$("#mainnavbar a:eq(1)").click();break;
				
			
					case "3":$("#mainnavbar a:eq(2)").click();break;
				
			
					case "4":$("#mainnavbar a:eq(3)").click();break;
				
			
					case "5":$("#mainnavbar a:eq(4)").click();break;
				
			
		}
	})
</script>